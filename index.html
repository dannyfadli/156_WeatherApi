<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuaca</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h2>üå§Ô∏è Informasi Cuaca</h2>

    <div class="input-group">
        <input type="text" id="inputLokasi" placeholder="Masukkan lokasi">
        <button id="btnCari">Cari</button>
    </div>

    <div>
        <div class="section-title">Cuaca</div>
        <div class="data-row">Suhu Celsius: <span id="suhuC">-</span> ¬∞C</div>
        <div class="data-row">Suhu Fahrenheit: <span id="suhuF">-</span> ¬∞F</div>
        <div class="data-row">Kelembapan: <span id="humidity">-</span> %</div>
        <hr>
        <div class="section-title">Lokasi</div>
        <div class="data-row">Negara: <span id="negara">-</span></div>
        <div class="data-row">Provinsi: <span id="provinsi">-</span></div>
        <div class="data-row">Kota/Kecamatan: <span id="kecamatan">-</span></div>
        <div class="data-row">Longitude: <span id="lon">-</span></div>
        <div class="data-row">Latitude: <span id="lat">-</span></div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    const API_KEY = "0d824dbb244e45d195d65533250710";

    function ambilCuaca(lokasi) {
        const urlapi = `http://api.weatherapi.com/v1/current.json?key=${API_KEY}&q=${lokasi}&aqi=no`;
        $.ajax({
            url: urlapi,
            method: "GET",
            success: function(data) {
                $("#suhuC").text(data.current.temp_c);
                $("#suhuF").text(data.current.temp_f);
                $("#humidity").text(data.current.humidity);
                $("#negara").text(data.location.country);
                $("#provinsi").text(data.location.region);
                $("#kecamatan").text(data.location.name);
                $("#lon").text(data.location.lon);
                $("#lat").text(data.location.lat);
            },
            error: function() {
                alert("Lokasi tidak ditemukan atau terjadi kesalahan!");
            }
        });
    }

    $("#btnCari").click(function() {
        const lokasi = $("#inputLokasi").val();
        if (lokasi) {
            ambilCuaca(lokasi);
        } else {
            alert("Masukkan lokasi terlebih dahulu!");
        }
    });
</script>

</body>
</html>
